<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="./data.js"></script>
    <link href="./styles.css" rel="stylesheet" />
  </head>
  <body>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Age</th>
          <th>Email</th>
          <th>Gender</th>
        </tr>
      </thead>
      <tbody id="original"></tbody>
    </table>

    <div>
      <button id="sort">Sort</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Age</th>
          <th>Email</th>
          <th>Gender</th>
        </tr>
      </thead>
      <tbody id="copy"></tbody>
    </table>

    <script>
      window.addEventListener("DOMContentLoaded", function () {
        console.log(data);
          
        const tbody = document.getElementById("original");
        const tableRows = data.map((item, index) => {
          const tr = document.createElement("tr");
          const _index = document.createElement("td");
          _index.innerText = index + 1;
          const _name = document.createElement("td");
          _name.innerText = item.name;
          const _age = document.createElement("td");
          _age.innerText = item.age;
          const _email = document.createElement("td");
          _email.innerText = item.email;
          const _gender = document.createElement("td");
          _gender.innerText = item.gender;

          tr.appendChild(_index);
          tr.appendChild(_name);
          tr.appendChild(_age);
          tr.appendChild(_email);
          tr.appendChild(_gender);

          tbody.appendChild(tr);
        });

        const sortBtn = document.getElementById("sort");
        sortBtn.addEventListener("click", function () {
          const sortTbody = document.getElementById("copy");
          data.sort((a, b) => (a.age < b.age ? -1 : 1));
          const tableRows = data.map((item, index) => {
            const tr = document.createElement("tr");
            const _index = document.createElement("td");
            _index.innerText = index + 1;
            const _name = document.createElement("td");
            _name.innerText = item.name;
            const _age = document.createElement("td");
            _age.innerText = item.age;
            const _email = document.createElement("td");
            _email.innerText = item.email;
            const _gender = document.createElement("td");
            _gender.innerText = item.gender;

            tr.appendChild(_index);
            tr.appendChild(_name);
            tr.appendChild(_age);
            tr.appendChild(_email);
            tr.appendChild(_gender);

            sortTbody.appendChild(tr);
          });
        });
      });
    </script>
  </body>
</html>
